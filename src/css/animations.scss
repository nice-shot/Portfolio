/*
Blinking cursor after programming interest field
*/
.typed-cursor {
  opacity: 1;
  -webkit-animation: blink 1.1s infinite;
  -moz-animation: blink 1.1s infinite;
  animation: blink 1.1s infinite;
}
@keyframes blink{
  0% { opacity:1; }
  50% { opacity:0; }
  100% { opacity:1; }
}
@-webkit-keyframes blink{
  0% { opacity:1; }
  50% { opacity:0; }
  100% { opacity:1; }
}
@-moz-keyframes blink{
  0% { opacity:1; }
  50% { opacity:0; }
  100% { opacity:1; }
}

/*
Design write-on effect
*/

@mixin design_write($letter_num, $y_pos, $time, $segments, $size, $delay) {
  /*
  Creates the animation css for a single letter

  - letter_num: The letter number as (letters are ordered from 1 to the word
                length)
  - y_pos: Where is the mask image positioned vertically
  - time: How long does the animation take
  - segments: How many parts the mask has
  - size: The width of the mask
  - delay: How long to wait until the letter starts appearing
  */

  #design-letter-#{$letter_num} {
    -webkit-mask-image: url(../assets/design_sprite_#{$letter_num}.png);
    -webkit-mask-position-y: $y_pos; 
    -webkit-mask-position-x: $size;
    
    &.write {
      -webkit-animation: write-on-#{$letter_num} $time 1 {
        fill-mode: both;
        delay: $delay;
      }
    }
  }

  @-webkit-keyframes write-on-#{$letter_num} { 
    $orig_frame_size: $size / $segments;
    $frame_size: 0px;
    $percent: 0%;
    $percent_jump: 100 / $segments;

    @while $percent <= 100% {
      #{$percent + 0.001}, #{$percent + $percent_jump} {
        -webkit-mask-position-x: #{$size - $frame_size};
      }

      $frame_size: $frame_size + $orig_frame_size;
      $percent: $percent + $percent_jump;
    }

  }
}

@include design_write(5, 3px, 0.5s, 9, 144px, 3s);


// #design-letter-5 {
//   -webkit-mask-image: url(../assets/design_sprite_5.png);
//   -webkit-mask-position-y: 3px;
//   -webkit-mask-position-x: 144px;
// }
// 
// #design-letter-5.write {
//   -webkit-animation: write-on-5 0.5s 1;
//   -webkit-animation-fill-mode: both;
//   -webkit-animation-delay: 3s;
// }
// 
// @-webkit-keyframes write-on-5 {
//   // Initial arguments:
//   $segments: 9;
//   $full_size: 144px;
//   $orig_frame_size: 16px;
// 
//   // Added varriables
//   $frame_size: 0px;
//   $percent: 0%;
//   $percent_jump: 100 / $segments;
// 
//   @while $percent <= 100% {
//     #{$percent + 0.001}, #{$percent + $percent_jump} {
//       -webkit-mask-position-x: #{$full_size - $frame_size};
//     }
// 
//     $frame_size: $frame_size + $orig_frame_size;
//     $percent: $percent + $percent_jump;
//   }
//   //0%, 1% { -webkit-mask-position-x: 144px; }
//   //1.001%, 12.5% { -webkit-mask-position-x: 128px }
//   //12.501%, 25% { -webkit-mask-position-x: 112px }
//   //25.001%, 37.5% { -webkit-mask-position-x: 96px }
//   //37.501%, 48% { -webkit-mask-position-x: 80px }
//   //48.001%, 60.5% { -webkit-mask-position-x: 64px }
//   //60.501%, 73% { -webkit-mask-position-x: 48px }
//   //73.001%, 85.5% { -webkit-mask-position-x: 32px }
//   //85.501%, 100% { -webkit-mask-position-x: 16px }
// }
